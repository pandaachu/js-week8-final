(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e870a1c4"],{1799:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"d-flex justify-content-center"},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:1===t.pages.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.updatePage(t.pages.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pages.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updatePage(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:t.pages.current_page===t.pages.total_pages}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.updatePage(t.pages.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},n=[],i={data:function(){return{imageUrl:[],filePath:""}},props:["pages"],methods:{updatePage:function(t){this.$emit("update",t)}}},c=i,r=(e("786b"),e("2877")),o=Object(r["a"])(c,s,n,!1,null,"4c6bce7a",null);a["a"]=o.exports},"315c":function(t,a,e){},5651:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("h2",{staticClass:"h3 m-3 text-left"},[t._v("訂單列表")]),e("table",{staticClass:"table table-striped text-primary mt-4"},[t._m(0),e("tbody",t._l(t.orders,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"text-center align-middle"},[t._v(t._s(a.created.datetime))]),e("td",{staticClass:"align-middle"},t._l(a.products,(function(s,n){return e("span",{key:n},[t._v(" "+t._s(s.product.title)+" "),n<a.products.length-1?e("font",[t._v(",")]):t._e()],1)})),0),e("td",{staticClass:"text-center align-middle"},[t._v(t._s(a.amount))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.payment))]),e("td",{staticClass:"text-center align-middle"},[a.paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-danger"},[t._v("未付款")])]),e("td",{staticClass:"align-middle"},[e("router-link",{staticClass:"btn btn-outline-success btn-sm btn-block",attrs:{to:"/admin/order/"+a.id}},[t._v("檢視")])],1)])})),0)]),e("Pagination",{attrs:{pages:t.pagination},on:{update:t.getOrders}})],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"bg-light"},[e("th",{staticClass:"text-center",attrs:{width:"175"}},[t._v("訂單日期")]),e("th",[t._v("購買產品")]),e("th",{staticClass:"text-center"},[t._v("訂單總額")]),e("th",[t._v("訂單付款方式")]),e("th",{staticClass:"text-center",attrs:{width:"130"}},[t._v("付款狀態")]),e("th",{attrs:{width:"130"}},[t._v("操作")])])])}],i=(e("99af"),e("1799")),c={name:"Orders",components:{Pagination:i["a"]},data:function(){return{orders:[],tempOrder:{},pagination:{},isLoading:!1,messages:[{name:"失敗",content:"出現錯誤"}]}},methods:{getOrders:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api","/").concat("289038e7-cea7-4a49-afd4-86ec766c3f7f","/admin/ec/orders?page=").concat(a);this.$http.get(e).then((function(a){t.orders=a.data.data,t.pagination=a.data.meta.pagination,t.isLoading=!1})).catch((function(){t.$bus.$emit("push-messages",t.messages[0]),$(".l-toast").toast("show"),t.isLoading=!1}))},changePaidStatus:function(t,a){var e=this,s="".concat("https://course-ec-api.hexschool.io/api","/").concat("289038e7-cea7-4a49-afd4-86ec766c3f7f","/admin/ec/orders/").concat(a);s+="/".concat(t?"paid":"unpaid"),this.isLoading=!0,this.$http.patch(s).then((function(){e.getOrders(e.pagination.paged),e.isLoading=!1})).catch((function(){e.$bus.$emit("push-messages",e.messages[0]),$(".l-toast").toast("show"),e.isLoading=!1}))}},created:function(){this.getOrders()}},r=c,o=e("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);a["default"]=l.exports},"786b":function(t,a,e){"use strict";var s=e("315c"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-e870a1c4.5a6256d3.js.map